---
import { ViewTransitions } from 'astro:transitions';
import Navbar from '../components/Navbar.astro';
import Footer from '../components/Footer.astro';
import 'aos/dist/aos.css';

interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Astro description" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
    <meta
      name="description"
      content="A beautiful and functional landing page design created specifically for digital marketing agencies. With its clean and modern design, Mustmedia is the perfect template to showcase your agency's services and case studies to potential clients. Built with astro and tailwindcss"
    />
	<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300..700&display=swap" rel="stylesheet">
    <ViewTransitions />
    
    <!-- Brevo Conversations Chat Widget -->
    <script>
      (function(d: Document, w: Window & typeof globalThis, c: string) {
          (w as any).BrevoConversationsID = '68151b3b93f1578fc90633cd';
          (w[c as keyof typeof w] as any) = (w[c as keyof typeof w] as any) || function(this: any, ...args: any[]) {
              ((w[c as keyof typeof w] as any).q = (w[c as keyof typeof w] as any).q || []).push(args);
          };
          var s = d.createElement('script');
          s.async = true;
          s.src = 'https://conversations-widget.brevo.com/brevo-conversations.js';
          if (d.head) d.head.appendChild(s);
      })(document, window, 'BrevoConversations');
    </script>
  </head>
  <body class="bg-white font-SpaceGrotesk">
    <Navbar />
    <slot />
    <Footer/>
    <script is:inline src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script is:inline>
      // Initialize AOS on first load
      document.addEventListener('DOMContentLoaded', () => {
        AOS.init({
          duration: 800,
          once: true,
        });
      });

      // Re-initialize AOS after view transitions
      document.addEventListener('astro:after-swap', () => {
        AOS.init({
          duration: 800,
          once: true,
        });
      });

      // Handle page transitions
      document.addEventListener('astro:page-load', () => {
        AOS.refresh();
      });
    </script>
  </body>
</html>
